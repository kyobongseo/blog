<!DOCTYPE html>
<html lang="en-us">
<head><script src="/blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=blog/livereload" data-no-instant defer></script>



<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>1 Santiago Writeup - Mrotaku Blog</title>
<meta name="description" content="This is a simple blog theme for Hugo.">

<meta name="author" content="">

<link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon.png?c=c4501507bbad77fbf0e9820331a0f49cfb3b0737">
<link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon.png?c=c4501507bbad77fbf0e9820331a0f49cfb3b0737">
<link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16.png?c=c4501507bbad77fbf0e9820331a0f49cfb3b0737">
<link rel="alternate" href="/blog/index.xml?c=c4501507bbad77fbf0e9820331a0f49cfb3b0737" type="application/rss+xml" title="RSS" />
<meta property="og:title" content="1 Santiago Writeup - Mrotaku Blog">
</meta>
<meta property="og:url" content="http://localhost:1313/blog/posts/1-santiago/">
<meta property="og:type" content="article">
<meta property="og:site_name" content="Mrotaku Blog">
<meta property="og:description" content="This is a simple blog theme for Hugo.">

<meta property="og:image" content="http://localhost:1313/blog//images/featured_image.jpg">

<meta name="twitter:card" content="summary_large_image" /></meta>
<meta name="twitter:site" content="@GoHugoIO"></meta>
<meta name="twitter:creator" content="@GoHugoIO"></meta>
<meta name="twitter:title" content="1 Santiago Writeup - Mrotaku Blog"></meta>
<meta name="twitter:url" content="http://localhost:1313/blog/posts/1-santiago/"></meta>
<meta name="twitter:description" content="This is a simple blog theme for Hugo."></meta>

<meta property="og:image" content="http://localhost:1313/blog//images/featured_image.jpg">


<link rel="stylesheet" href="/blog/css/main.css?c=c4501507bbad77fbf0e9820331a0f49cfb3b0737">
<link rel="stylesheet" href="/blog/css/color.css?c=c4501507bbad77fbf0e9820331a0f49cfb3b0737">




</head>

<body class="theme-default">


<div id="content-header" class="title">
  
  <a class="site-title" href="/blog/">Mrotaku Blog</a>
  
  <span class="site-sub-title"></span>

  

  <div id="main-menu-nav">
    <div id="main-menu-nav-items">
      
        <div class="nav-item"><a href="/blog/about/">About</a></div>
      
        <div class="nav-item"><a href="/blog/tags/">Tags</a></div>
      
        <div class="nav-item"><a href="/blog/categories/">Categories</a></div>
      
        <div class="nav-item"><a href="/blog/archives/">Archives</a></div>
      
    </div>
  </div>
</div>
<div id="content" class="main">




<h2>1 Santiago Writeup</h2>

<span class="sub">2024-08-06</span>






<nav id="TableOfContents"></nav>



<p>ps to list processes</p>
<pre tabindex="0"><code>admin@i-0cc87c45cacd809cb:~$ ps
    PID TTY          TIME CMD
    693 pts/1    00:00:00 sh
    694 pts/1    00:00:00 bash
    949 pts/1    00:00:00 ps
</code></pre><p>Using ps -e (or ps -A) can list all the processes:</p>
<pre tabindex="0"><code>admin@i-0376cdb4df4f63584:~$ ps -e
    PID TTY          TIME CMD
      1 ?        00:00:02 systemd
      2 ?        00:00:00 kthreadd
      !--Omitting lines for brevity--!
    582 ?        00:00:00 systemd-logind
    587 ?        00:00:00 badlog.py
    590 ?        00:00:00 sshd
    591 tty1     00:00:00 agetty
</code></pre><p>PID 587 has suspicious output
<code>587 ?        00:00:00 badlog.py</code></p>
<pre tabindex="0"><code>admin@i-0376cdb4df4f63584:~$ ps 587
    PID TTY      STAT   TIME COMMAND
    587 ?        S      0:00 /usr/bin/python3 /home/admin/badlog.py
</code></pre><p>Kill the process</p>
<pre tabindex="0"><code>admin@i-0376cdb4df4f63584:~$ kill 587
admin@i-0376cdb4df4f63584:~$ ps -e | grep badlog.py
</code></pre><p>Check that the log file no longer increments
<code>tail -f /var/log/bad.log</code></p>
<p>Alternative method &ndash; using lsof to see what process has the log file opened:</p>
<pre tabindex="0"><code>admin@i-0c8858d2edcc9e30d:~$ lsof /var/log/bad.log
COMMAND   PID  USER   FD   TYPE DEVICE SIZE/OFF   NODE NAME
badlog.py 584 admin    3w   REG  259,1    17093 265802 /var/log/bad.log
</code></pre><p>Why PS has different ways to do the same thing:
<a href="https://askubuntu.com/questions/484982/what-is-the-difference-between-standard-syntax-and-bsd-syntax">https://askubuntu.com/questions/484982/what-is-the-difference-between-standard-syntax-and-bsd-syntax</a></p>
<p>Berkeley Software Distribution (BSD) vs SystemV (SysV) Syntax.</p>
<p>Unix history graph
<a href="https://www.levenez.com/unix/">https://www.levenez.com/unix/</a></p>






<hr class="block-separater">




<div class="content-footer-item">
	Tags for this post:
	
	<a class="post-tag" href="/blog/tags/linux/">Linux</a>
	
</div>







<div class="content-footer-item neighbor">
	
	
</div>






    
    
    






    
    
    




<script src="/js/single.js"></script>





	</div><div id="content-footer" class="sub">
  
  <div class="credit">
    Power by <a href="https://gohugo.io">Hugo</a> /
    Theme <a href="https://github.com/michimani/simplog/">simplog</a> by <a href="https://github.com/michimani/">michimani</a>
  </div>
</div></body>

</html>